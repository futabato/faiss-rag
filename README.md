# Faissで簡易的なRAG構築

PDF形式の仕様書の情報をもとに、自然言語での質問応答ができる簡易的なRAGシステムを構築する。

## システム概要

| ステップ | 使用技術 | 目的 |
| --- | --- | --- |
| 1. 文書読み込み | `pdfplumber` | PDF形式の仕様書を読み取り、テキスト化 |
| 2. ベクトル化（Embedding） | `sentence-transformers/all-MiniLM-L6-v2` （HuggingFace） | 各チャンクを意味ベクトルに変換 |
| 3. ベクトル格納 | Faiss | ベクトル化された文書をベクトルDBに保存 |
| 4. 質問応答 | LangChainの`RetrievalQA` | ユーザの自然言語の質問に対して、文書の構造に基づいた回答を行う |

例えば、以下のような質問を実行する：

```jsx
「この仕様書に書かれているエラーコードの107番は何？」
```

この問いに対し、検索されたチャンク内に107番のエラーの記述があれば、該当箇所に基づく回答を生成する。該当がない場合には、「記載されていません」などの回答を返せます。

※ チャンク分割の粒度や、ベクトル検索の設定（TopK件数など）により、回答精度は変動します。

## セットアップ手順

[Rye](https://rye.astral.sh/)を仕様して依存関係をインストールします。

```
rye sync
```

プロジェクトルートに `.env` ファイルを作成し、以下の内容を記載してください。

```text
OPENAI_API_KEY=your_openai_api_key
```

以下のコマンドでスクリプトを実行できます。

```shell
python src/faiss_rag/main.py
```